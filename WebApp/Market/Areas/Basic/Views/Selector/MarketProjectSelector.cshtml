@{
    ViewBag.Title = "MarketProjectSelector";
}
<div class="mini-toolbar" style="padding: 0px; border-bottom: 0; border-top: 0;">
    <table style="width: 100%;">
        <tr>
            <td style="width: 100%;">
                <a class="mini-button" iconcls="icon-add" onclick="returnValue();" plain="true">选择</a>
                <a class="mini-button" iconcls="icon-cancel" onclick="closeWindow();" plain="true">取消</a>
            </td>
            <td style="white-space: nowrap;">
                <input class="mini-buttonedit searchbox" id="key" emptytext="请输入项目名称或编号" style="width: 200px;" onenter="quickSearch('Name,Code');"
                    onbuttonclick="quickSearch('Name,Code');" />
                @*<a class="mini-button" onclick="showWindow('queryWindow')" iconcls="icon-find" plain="true">详细查询</a>*@
            </td>
        </tr>
    </table>
</div>
<div class="mini-fit" style="height: 100px;">
    <div id="dataGrid" url="GetMarketProjectList" class="mini-datagrid" style="width: 100%; height: 100%;"
        idfield="ID" multiselect="true">
        <div property="columns">
            <div type="checkcolumn">
            </div>
            <div field="Code" headeralign="center" width="200" allowsort="true" align="center">
                项目编号</div>
            <div field="Name" headeralign="center" width="400" allowsort="true" align="left">
                项目名称</div>
            <div field="Province" headeralign="center" width="80" allowsort="true" align="center">
                省份</div>
            @*<div field="State" headeralign="center" width="100" allowsort="true" align="center">
                项目状态</div>*@
        </div>
    </div>
</div>
@*<div id="queryWindow" class="mini-window" title="详细查询" style="width: 700px;" showmodal="true" allowresize="false"
    allowdrag="true">
    <div class="queryDiv">
        <form id="queryForm" method="post">
        <table>
            <tr>
                <td width="10%" align="center">
                    项目名称
                </td>
                <td width="23%" align="left">
                    <input name="$LK$Name" class="mini-textbox" style="width: 75%" vtype="maxLength:200" />
                </td>
                <td width="10%" align="center">
                    项目编号
                </td>
                <td width="23%" align="left">
                    <input name="$LK$Code" style="width: 75%;" class="mini-textbox" vtype="maxLength:50" />
                </td>
                <td width="10%" align="center">
                    项目状态
                </td>
                <td width="23%" align="left">
                    <input class="mini-combobox" name="$EQ$State" style="width: 75%;" valuefield="value" vtype="maxLength:50"
                        textfield="text" data="PreProjectState" shownullitem="true" />
                </td>
            </tr>
            <tr>
                <td align="center">
                    省份
                </td>
                <td align="left">
                    <input name="$LK$Province" style="width: 75%;" class="mini-textbox" vtype="maxLength:50" />
                </td>
                <td align="center">
                    行业
                </td>
                <td align="left">
                    <div name="$EQ$Industry" class="mini-combobox" textfield="text" valuefield="value" data="Industry" vtype="maxLength:50"
                        style="width: 75%;" shownullitem="true">
                    </div>
                </td>
                <td align="center">
                </td>
                <td align="left">
                </td>
            </tr>
        </table>
        </form>
        <div>
            <a class="mini-button" onclick="search()" iconcls="icon-find" style="margin-right: 20px;">查询</a>
            <a class="mini-button" onclick="clearQueryForm('queryForm')" iconcls="icon-undo">清空</a>
        </div>
    </div>
</div>*@
<script type="text/javascript">
   @Html.GetEnum("Market.PreProjectState")
   @Html.GetEnum("Market.Industry")
</script>
<script type="text/javascript">
    addGridEnum("dataGrid", "State", "PreProjectState");

    function returnValue() {
        var dataGrid = mini.get("dataGrid");
        var rows = dataGrid.getSelecteds();
        closeWindow(rows);
    }

</script>
