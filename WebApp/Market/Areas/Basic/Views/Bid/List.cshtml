@{
    ViewBag.Title = "List";
}
<div class="mini-toolbar" style="padding: 0px; border-bottom: 0px;">
    <table style="width: 100%;">
        <tr>
            <td>
                <a class="mini-button" id="btnAdd" iconcls="icon-add" onclick="add({title:'添加投标记录',width:'60%'});">
                    增加</a> <a class="mini-button" id="btnModify" iconcls="icon-edit" onclick="edit({title:'修改投标记录',width:'60%'});">
                        编辑</a> <a class="mini-button" id="btnDelete" iconcls="icon-remove" onclick="del();">
                            删除</a>
            </td>
            <td class="gw-toolbar-right">
                <input id="key" class="mini-buttonedit gw-searchbox" emptytext="请输入项目名称" onenter="quickSearch('ProjectName');"
                    onbuttonclick="quickSearch('ProjectName');" />
                <a class="mini-button" onclick="showWindow('queryWindow')" iconcls="icon-find" plain="true">
                    详细查询</a>
            </td>
        </tr>
    </table>
</div>
<div class="mini-fit">
    <div id="dataGrid" class="mini-datagrid" style="width: 100%; height: 100%;" url="GetList"
        multiselect="true">
        <div property="columns">
            <div type="checkcolumn">
            </div>
            <div field="ProjectName" width="200" headeralign="center" allowsort="true" align="left">
                项目名称</div>
            <div field="BidCode" width="120" headeralign="center" allowsort="true" align="left">
                投标编号</div>
            <div field="BidPhase" width="100" headeralign="center" allowsort="true" align="left">
                投标阶段</div>
            <div field="BidIssuedDate" width="100" headeralign="center" dateformat="yyyy-MM-dd"
                allowsort="true" align="center">
                投标下达日期</div>
            <div field="CompetencyDate" width="100" headeralign="center" dateformat="yyyy-MM-dd"
                allowsort="true" align="center">
                答疑截止时间</div>
            <div field="CompleteBidDate" width="100" headeralign="center" dateformat="yyyy-MM-dd"
                allowsort="true" align="center">
                交标时间</div>
            <div field="BusinessOwner" width="120" headeralign="center" allowsort="true" align="left">
                业主单位</div>
            <div field="BusinessClass" width="120" headeralign="center" allowsort="true" align="center">
                业务类别</div>
            <div field="IsWinBid" headeralign="center" align="center" width="70" allowsort="center">
                是否中标</div>
        </div>
    </div>
</div>
<div id="queryWindow" class="mini-window" title="详细查询" style="width: 690px; height: 220px;"
    showmodal="true" allowresize="false" allowdrag="true">
    <div class="queryDiv">
        <form id="queryForm" method="post">
        <table>
            <tr>
                <td width="12%" align="center">
                    项目名称
                </td>
                <td width="38%" align="left">
                    <input name="$LK$ProjectName" style="width: 75%;" class="mini-textbox" />
                </td>
                <td width="12%" align="center">
                    投标编号
                </td>
                <td width="38%" align="left">
                    <input name="$LK$BidCode" style="width: 75%;" class="mini-textbox" />
                </td>
            </tr>
            <tr>
                <td width="12%" align="center">
                    投标阶段
                </td>
                <td width="38%" align="left">
                    <input name="$LK$BidPhase" class="mini-textbox" style="width: 75%" />
                </td>
                <td width="12%" align="center">
                    业主单位
                </td>
                <td width="38%" align="left">
                    <input name="$LK$BusinessOwner" class="mini-textbox" style="width: 75%" />
                </td>
            </tr>
            <tr>
                <td width="12%" align="center">
                    业务类别
                </td>
                <td width="38%" align="left">
                    <input class="mini-combobox" name="$EQ$BusinessClass" style="width: 75%;" valuefield="value"
                           textfield="text" data="BusinessType" shownullitem="true" />
                </td>
                <td width="12%" align="center">
                    是否中标
                </td>
                <td width="38%" align="left">
                    <input class="mini-combobox" name="$EQ$IsWinBid" style="width: 75%;" valuefield="value"
                        textfield="text" data="IsWinBid" shownullitem="true" />
                </td>
            </tr>
        </table>
        </form>
        <div>
            <a class="mini-button" onclick="search()" iconcls="icon-find" style="margin-right: 20px;">
                查询</a> <a class="mini-button" onclick="clearQueryForm('queryForm')" iconcls="icon-undo">
                    清空</a>
        </div>
    </div>
</div>
<script type="text/javascript">
    @Html.GetEnum("Market.IsWinBid")
    @Html.GetEnum("Market.BusinessType")
</script>
<script type="text/javascript">

    //为Grid枚举列指定枚举定义
    addGridEnum("dataGrid", "IsWinBid", "IsWinBid");

    //注册Grid链接列
    addGridLink('dataGrid', 'ProjectName', 'Edit?ID={ID}', { funcType: 'view', height: '80%', width: '60%' });
    

</script>
